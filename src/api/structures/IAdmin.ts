import { tags } from "typia";

/**
 * 관리자 엔티티 타입.
 *
 * 프라이머리 데이터: admins 테이블 atomic 필드 전체. PK(id), FK(user_id), 상태, 생성/변경/삭제 타임스탬프 등
 * 관리용 메타데이터 포함.
 *
 * 시스템 준수, RBAC 등과 밀접하게 연결되는 관리자 기록입니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAdmin = {
  /**
   * 관리자 고유 ID (PK).
   *
   * Admins.id 필드 - 시스템 유일 관리자 식별자입니다.
   */
  id: string & tags.Format<"uuid">;

  /**
   * User와의 FK. users.id와 1:1로 연결됩니다.
   *
   * 관리자 계정의 실제 사용자 ID, 권한, 개인정보 연결용입니다.
   */
  user_id: string & tags.Format<"uuid">;

  /**
   * 관리자 현재 상태입니다. e.g. 'active', 'suspended', 'pending' 등 권한/상태 워크플로우 지원.
   *
   * Db admins.status 속성과 일치.
   */
  status: string;

  /**
   * 관리자 계정 생성일시. 시스템 로그 추적, 규정 준수 등 관리 목적으로 기록.
   *
   * Admins 테이블 생성 시 자동 입력됩니다.
   */
  created_at: string & tags.Format<"date-time">;

  /** 마지막 업데이트 시각(automatic). 관리자 정보 변경/권한 변경/생성/활성화 등 관리 이벤트 대비. */
  updated_at: string & tags.Format<"date-time">;

  /** 소프트 삭제(아카이브/복구 가능) 처리 타임스탬프. 시스템적으로 실제 삭제가 아닌, 규제/감사를 위해 남기는 용도. */
  deleted_at?: (string & tags.Format<"date-time">) | null;
};
export namespace IAdmin {
  /**
   * 관리자 목록 검색/조회/필터링 요청 DTO.
   *
   * Admins 테이블 속성 및 인덱스 구조에 따라, 관리자 계정 목록 조회에 필요한 검색 필드, 페이지네이션, 정렬 옵션 등이 담긴
   * 타입.
   *
   * - Status, user_id, created_at 필터 등
   * - Page, limit으로 페이지네이션 지원.
   */
  export type IRequest = {
    /** 관리자 상태(Active/Suspended/Pending 등). 필터와 검색 조건으로 사용됩니다. */
    status?: string;

    /**
     * 사용자 PK(외래키) – admins.user_id로 인덱싱된 관리자 소유자.
     *
     * 관리자 계정 소유자를 검색 조건으로 사용합니다.
     */
    user_id?: string & tags.Format<"uuid">;

    /** 생성일 범위(시작) 검색 조건용 ISO 8601 일자/시각. DB의 created_at에 대한 하한입니다. */
    created_at_from?: string & tags.Format<"date-time">;

    /** 생성일 범위(끝) 검색 조건용 ISO 8601 일자/시각. DB의 created_at 상한. */
    created_at_to?: string & tags.Format<"date-time">;

    /** 검색/필터 용도. 유저 닉네임, 이름 또는 지정 별칭(부분검색 가능) */
    nickname?: string;

    /** 페이지 번호(1부터 시작). 기본=1 */
    page?: number &
      tags.Type<"int32"> &
      tags.Minimum<1> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;

    /** 페이지당 목록 수. 기본=50, 최대=200 */
    limit?: number &
      tags.Type<"int32"> &
      tags.Default<50> &
      tags.Minimum<1> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;
  };

  /**
   * 신규 관리자 계정 생성 요청용 DTO 타입.
   *
   * Admins 테이블 atomic 필드와 매핑되며, 필수 user_id, 선택 status 값 전달.
   *
   * 관리자 전용 계정 생성을 트리거하는 필수 정보만 포함.
   */
  export type ICreate = {
    /**
     * Admins.user_id 외래키.
     *
     * 관리자에 위임될 users 테이블의 유저PK(반드시 존재해야 하며, 한 user_id에 여러 admin은 불가).
     */
    user_id: string & tags.Format<"uuid">;

    /**
     * 생성시 관리자 상태값. 일반적으로 'active', 'pending' 등 사전에 정의된 워크플로우 값 중 하나.
     *
     * Default: 'pending', 미지정시는 시스템 정책에 따라 기본 적용.
     */
    status?: string;
  };

  /**
   * 기존 관리자 정보수정(주로 상태 관리) 요청 타입.
   *
   * Status만 수정 가능; user_id는 불변.
   *
   * 관리자 계정의 활성/정지, 워크플로우 전이 시 상태 갱신에 사용.
   */
  export type IUpdate = {
    /**
     * 변경할 관리자 상태값 (suspended, active 등).
     *
     * 권한/승인 워크플로우·잠금/해제 등 관리자동화에 연동.
     */
    status?: string;
  };
}

import { tags } from "typia";

/**
 * 관리자 행위(액션)를 남기는 감사 로그 엔티티 타입입니다.
 *
 * 관리자 작업, 권한 변경, 긴급 처분, 요청 등 모든 주요 이벤트의 불변적 레코드를 제공합니다. Prisma의 구조 및 컴플라이언스
 * 요구사항/법률적 감사 요건을 충실히 반영합니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAdminActionLog = {
  /** 고유 로그 식별자(UUID), Prisma admin_action_logs.id. */
  id: string & tags.Format<"uuid">;

  /** 작업 수행 관리자 admins.id, 책임 추적과 컴플라이언스의 중심. */
  admin_id: string & tags.Format<"uuid">;

  /** 행동 유형(예:'role_escalation', 'account_review'). 정책, 권한, 설정 등 행동 구분에 사용. */
  action_type: string;

  /** 대상 엔티티 유형(예: 'seller', 'order', 'user'). 어떤 비즈니스 도메인이 영향을 받는지 명확히 함. */
  entity_type: string;

  /** 영향받은 엔티티의 UUID. 없는 경우 null. */
  entity_id?: (string & tags.Format<"uuid">) | null;

  /** 행동 결과(예: success, failure, pending 등). 감사 및 사후 분석, 위험 분류에 중요. */
  outcome: string;

  /** 부가 설명, 자유 메모, 작업 이유 등(여러 단락 가능). 컴플라이언스, 자동화 설명 등에 활용. */
  details?: string | null;

  /** 액션 로그의 발생 시각(RFC3339 표준, immutable). Prisma created_at을 1:1 반영. */
  created_at: string & tags.Format<"date-time">;
};
export namespace IAdminActionLog {
  /**
   * 신규 관리자 액션 로그를 생성하는 입력 타입입니다.
   *
   * 시스템 액션, 정책 리뷰, 권한 변경, 실시간 대응 등 핵심 관리 이벤트의 감사 트레일 레코드 생성에 사용합니다. 필드는
   * Prisma admin_action_logs의 구조를 충실히 따릅니다.
   */
  export type ICreate = {
    /** 액션 수행자(관리자)의 UUID. admins.id. */
    admin_id: string & tags.Format<"uuid">;

    /** 로그 기록할 액션 유형. 비즈니스 시나리오에 따라 정의(예: 권한승급, 계정리뷰 등). */
    action_type: string;

    /** 영향 엔티티 도메인. 관리 UI/시스템 모니터링 등에서 사용. */
    entity_type: string;

    /** 변경/감사 대상 엔티티 UUID. 없는 경우 null. */
    entity_id?: (string & tags.Format<"uuid">) | null;

    /** 행동 결과(성공/실패 등). 필수, 정책 감사/사후분석 목적. */
    outcome: string;

    /** 액션에 대한 자유 기술 상세 코멘트. 여러 단락 사용 가능. */
    details?: string | null;
  };

  /**
   * Update object for admin_action_logs. Allows only non-mutable metadata:
   * outcome, details, entity reference. Used for compliance-driven annotation
   * or correction by compliance officers, with full audit trail. See the
   * 'admin_action_logs' table in Prisma and requirements (Section 9.4).
   */
  export type IUpdate = {
    /**
     * The updated outcome/result of the admin action. For example,
     * 'success', 'failure', 'pending review'. Referenced from the
     * 'admin_action_logs' Prisma column. This can be used to correct an
     * action status during post-event compliance review or incident
     * tracking.
     *
     * Multiple paragraphs: This field is critical for compliance and
     * incident response, as it allows manual annotation of whether an
     * action met its objectives. Corrections here support a robust
     * compliance posture.
     */
    outcome?: string;

    /**
     * Optional text field to add or amend details/explanations justifying
     * the admin action. Referenced from the 'details' column in Prisma.
     * Used for clarification, incident tags, or expanded justifications
     * during post-audit.
     */
    details?: string;

    /**
     * The UUID of the affected entity (e.g., seller, order, user), if a
     * correction or clarification of the related entity is necessary.
     * Corresponds to the 'entity_id' column in 'admin_action_logs'.
     */
    entity_id?: string & tags.Format<"uuid">;
  };
}

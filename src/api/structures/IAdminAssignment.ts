import { tags } from "typia";

/**
 * RBAC(권한관리) 환경에서 단일 관리자 역할/권한 할당 레코드를 표현하는 엔티티 스키마입니다.
 *
 * Prisma admin_assignments 스키마를 바탕으로 atomic 관계 구조 및 모든 감사 필드 포함. 관리자-역할/권한-시점
 * 정보를 정확히 기록합니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAdminAssignment = {
  /** RBAC 관리자 역할/권한 할당 고유 식별자(UUID) */
  id: string & tags.Format<"uuid">;

  /** 할당된 관리자(admins.id) */
  admin_id: string & tags.Format<"uuid">;

  /** 연결된 관리자 역할(admin_roles.id). 역할이 없을 경우 null 가능. */
  role_id?: (string & tags.Format<"uuid">) | null;

  /** 연결된 관리자 권한(admin_permissions.id). 없다면 null. */
  permission_id?: (string & tags.Format<"uuid">) | null;

  /** 할당 시각(RFC3339). 생성과 동시에 기록됨. */
  assigned_at: string & tags.Format<"date-time">;

  /** 할당 종료/만기 시각. 영구 권한인 경우 null. */
  expires_at?: (string & tags.Format<"date-time">) | null;
};
export namespace IAdminAssignment {
  /**
   * 관리자 RBAC 역할/권한 할당 신규 생성용 입력 타입입니다.
   *
   * RBAC 할당 매트릭스 설계 규칙, Prisma admin_assignments 테이블 명세, 감사 목적에 충실하게 설계되었습니다.
   *
   * 모든 생성은 정확한 admin, 역할 또는 권한, 할당 시점을 명확히 명시해야 함을 강조합니다.
   */
  export type ICreate = {
    /** 권한 할당 대상 관리자. admins.id 참조. */
    admin_id: string & tags.Format<"uuid">;

    /** 할당할 관리자 역할. admin_roles.id(선택적, 역할 없이도 단일 권한 지정 가능). */
    role_id?: (string & tags.Format<"uuid">) | null;

    /** 부여할 관리자 권한. admin_permissions.id. */
    permission_id?: (string & tags.Format<"uuid">) | null;

    /** 실제 RBAC 할당 시점. 보통 현재시각. 생성과 동시 지정. */
    assigned_at: string & tags.Format<"date-time">;

    /** 할당 만료일. 만료되지 않는 할당은 null */
    expires_at?: (string & tags.Format<"date-time">) | null;
  };

  /**
   * 관리자 RBAC 할당 레코드 수정(역할, 권한, 만료일 등 변경)에 사용됩니다.
   *
   * Prisma admin_assignments 의 구조와 비즈니스 규칙을 엄격히 반영. RBAC정책 감사 목적에 따라 수정 기록은
   * 매우 중요함을 명시합니다.
   */
  export type IUpdate = {
    /** 수정할 관리자 역할. admin_roles.id. null로(권한 단일형) 업데이트도 가능. */
    role_id?: (string & tags.Format<"uuid">) | null;

    /** 수정할 관리자 권한. admin_permissions.id. null 무효화 가능. */
    permission_id?: (string & tags.Format<"uuid">) | null;

    /** (옵션) 만료일 갱신. 즉시 권한 제거하려면 null로. */
    expires_at?: (string & tags.Format<"date-time">) | null;
  };
}

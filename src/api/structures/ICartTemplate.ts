import { tags } from "typia";

/**
 * 장바구니 템플릿(재사용 장바구니)을 나타내는 엔티티입니다.
 *
 * 자주 쓰는 상품 셋을 저장해 놓고 반복구매 시 바로 사용 가능하게 하는 저장소로, 소유 회원(user_id), 이름, 생성/수정일,
 * 소프트삭제 이력으로 구성됩니다. 실제 아이템 목록은 cart_items와 별도 연계 관리합니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type ICartTemplate = {
  /** 템플릿 고유 식별자(PK) */
  id: string & tags.Format<"uuid">;

  /** 템플릿 소유자(회원) ID */
  user_id: string & tags.Format<"uuid">;

  /** 템플릿 이름. ex) '내 월간 정기구매' */
  name: string;

  /** 템플릿 생성 시각 */
  created_at: string & tags.Format<"date-time">;

  /** 마지막 수정시각 (주문/템플릿 수정시 갱신) */
  updated_at: string & tags.Format<"date-time">;

  /** 소프트 삭제 시각. 삭제된 경우에만 값 존재, 실제 DB 삭제X */
  deleted_at?: (string & tags.Format<"date-time">) | null;
};
export namespace ICartTemplate {
  /**
   * 카트 템플릿 목록을 검색/리스트업할 때 사용하는 요청 파라미터 스키마입니다.
   *
   * 페이지네이션 필드(page/limit), 이름/날짜/소유자 등 다양한 조건으로 필터링 가능하며, 대규모 템플릿 관리나 자기 소유
   * 템플릿 목록 조회 등에 사용합니다. 관리자 RBAC/권한에 따라 user_id로 타인/전체 조회도 허용됩니다.
   */
  export type IRequest = {
    /** 조회하려는 페이지 번호 (1-base). null 또는 미입력 시 첫 페이지. */
    page?:
      | (number &
          tags.Type<"int32"> &
          tags.JsonSchemaPlugin<{
            format: "uint32";
          }>)
      | null;

    /** 페이지당 데이터 건수 (최대치 제한될 수 있음). 기본값 예: 100 */
    limit?:
      | (number &
          tags.Type<"int32"> &
          tags.JsonSchemaPlugin<{
            format: "uint32";
          }>)
      | null;

    /** 소유자(회원) ID로만 자신의 템플릿만 조회하거나, 관리자용으로 특정 사용자의 템플릿 필터링에 사용. */
    user_id?: (string & tags.Format<"uuid">) | null;

    /** 템플릿명(선택적 부분일치 검색 쿼리) */
    name?: string | null;

    /** 생성일 범위(시작) */
    created_at_from?: (string & tags.Format<"date-time">) | null;

    /** 생성일 범위(끝) */
    created_at_to?: (string & tags.Format<"date-time">) | null;

    /** 정렬 기준 필드. 예: 'created_at', 'name'. 기본값: created_at desc */
    sort?: string | null;
  };

  /**
   * 새로운 카트 템플릿 생성 요청 스키마입니다.
   *
   * 템플릿 소유자와 이름을 반드시 입력해야 하며, 이름은 길이제한 및 유니크 정책(회원별) 적용 가능. 본 요청으로 템플릿만 생성되고
   * 실제 템플릿 아이템(상품목록)은 별도 API에서 입력/연결됩니다.
   */
  export type ICreate = {
    /** 템플릿을 소유할 회원의 ID (users.id 참조) */
    user_id: string & tags.Format<"uuid">;

    /** 템플릿명 */
    name: string;
  };

  /**
   * 기존 카트 템플릿의 일부 필드(주로 이름 등)를 변경할 때 사용하는 입력 모델입니다.
   *
   * 전체/부분 수정을 지원하며, PK(user_id)는 수정 불가능합니다. 기타 정책은 비즈니스 룰에 따릅니다.
   */
  export type IUpdate = {
    /** 수정할 템플릿명. 미입력 시 기존 유지 */
    name?: string;
  };
}

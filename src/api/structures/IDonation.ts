import { tags } from "typia";

/**
 * 도네이션(기부) 엔터티 타입: 모든 기부 관련 내역과 상태 관리, 컴플라이언스 및 감사를 위한 정보.
 *
 * - Prisma donations 테이블 완전 매핑.
 * - 각 필드는 요구분석서, DB 컬럼 주석에 기반해 여러 문단 상세 설명으로 작성.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IDonation = {
  /** 기부(도네이션) 엔티티 고유 식별자. Prism donations.id에 해당. */
  id: string & tags.Format<"uuid">;

  /** 기부 사용자 UUID. 단일 사용자의 도네이션 내역 추적에 활용. */
  user_id: string & tags.Format<"uuid">;

  /** 기부 금액. */
  donation_amount: number &
    tags.JsonSchemaPlugin<{
      format: "double";
    }>;

  /** 기부금 전달 목표(비영리단체, 캠페인 등). */
  donation_target: string;

  /** 기부 상태(진행 중/완료/취소 등). */
  status: string;

  /** 상위 연관 이벤트 참조(필요 시). */
  event_ref?: string | null;

  /** 기부 데이터 생성 시각. */
  created_at: string & tags.Format<"date-time">;
};
export namespace IDonation {
  /**
   * 기부내역(도네이션) 리스트 조회/검색/필터용 요청 DTO.
   *
   * - 다양한 조건으로 필터+정렬 지원 함수.
   * - 필터링 조건은 시스템/프로젝트 요구에 따라 dynamic하게 사용 가능.
   */
  export type IRequest = {
    /**
     * 조회 대상 사용자(UUID).
     *
     * Donations.user_id 필터링에 사용
     */
    user_id?: (string & tags.Format<"uuid">) | null;

    /**
     * 기부처 코드로 필터할 때 사용.
     *
     * Prisma donations.donation_target 기반.
     */
    donation_target?: string | null;

    /** 기부 상태('pending', 'completed' 등). 상태별 조회 필터. */
    status?: string | null;

    /** 생성 일시 하한 필터. */
    created_at_from?: (string & tags.Format<"date-time">) | null;

    /** 생성 일시 상한 필터. */
    created_at_to?: (string & tags.Format<"date-time">) | null;

    /** 기부액 최소조건 필터. */
    min_amount?:
      | (number &
          tags.JsonSchemaPlugin<{
            format: "double";
          }>)
      | null;

    /** 기부액 최대조건 필터. */
    max_amount?:
      | (number &
          tags.JsonSchemaPlugin<{
            format: "double";
          }>)
      | null;

    /** 페이지 번호. */
    page?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;

    /** 페이지당 데이터 수. */
    limit?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;
  };

  /**
   * 기부(도네이션) 신규 등록 요청용 DTO.
   *
   * - 필수값만 포함.
   * - 입력값 검증, KYC 및 기부 정책 적용 기준 상세 기술.
   */
  export type ICreate = {
    /** 기부자 UUID. */
    user_id: string & tags.Format<"uuid">;

    /** 기부할 금액. */
    donation_amount: number &
      tags.JsonSchemaPlugin<{
        format: "double";
      }>;

    /** 기부처, 캠페인명 등. */
    donation_target: string;
  };

  /**
   * 도네이션(기부) 엔터티 수정 요청 DTO.
   *
   * - 금액/상태 등 일부 필드만 수정 가능.
   */
  export type IUpdate = {
    /** 금액 수정(필요시). */
    donation_amount?: number &
      tags.JsonSchemaPlugin<{
        format: "double";
      }>;

    /** 상태 수동 조정 등. */
    status?: string;

    /** 연관 이벤트/결제 등 재설정시. */
    event_ref?: string;
  };
}

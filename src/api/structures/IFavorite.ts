import { tags } from "typia";

/**
 * Favorite entity object.
 *
 * Represents a user's favorite entry, tying together the user, entity type,
 * entity id, and referenced snapshot for immutable audit/notification purposes.
 * Complies with EngagementBoards.favorites schema and supports notification,
 * dashboard, and engagement use-cases.
 *
 * All fields are atomic and correspond to the favorites table.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IFavorite = {
  /**
   * Unique ID for this favorite entry in the 'favorites' table. Used as the
   * primary key for favorite management.
   */
  id: string & tags.Format<"uuid">;

  /** User who created the favorite. Reference to users.id. */
  user_id: string & tags.Format<"uuid">;

  /**
   * Snapshot of the favorited entity, enabling immutable notification/event
   * tie-in. From favorites.entity_snapshot_id. Used for notification if the
   * entity changes.
   */
  entity_snapshot_id: string & tags.Format<"uuid">;

  /**
   * Type of entity favorited (e.g., 'product', 'inquiry', 'address'). String
   * match from favorites.entity_type column.
   */
  entity_type: string;

  /**
   * Raw ID of target entity (not FK, but PK from the target table). From
   * favorites.entity_id.
   */
  entity_id: string & tags.Format<"uuid">;

  /** When the favorite was registered. Enables timeline for dashboard/history. */
  created_at: string & tags.Format<"date-time">;
};
export namespace IFavorite {
  /**
   * Favorite search/filter request schema.
   *
   * Used to fetch a paginated and filtered list of a user's favorites,
   * supporting filters by entity type, entity ID, search by creation or
   * notification state, and pagination information. Matches the
   * EngagementBoards.favorites table and is used by dashboard, notification,
   * and engagement logic.
   *
   * Reference: favorites table and engagement board domain requirements.
   */
  export type IRequest = {
    /**
     * Type of entity being favorited (e.g., 'product', 'inquiry',
     * 'address'). Used to filter favorite types in queries. Refers to
     * 'entity_type' in favorites table.
     */
    entity_type?: string;

    /**
     * ID of the favorited target entity. Filters favorites for a specific
     * object. From 'entity_id' in favorites.
     */
    entity_id?: string;

    /**
     * Optional filter: only favorites created after this timestamp are
     * returned.
     */
    created_after?: string & tags.Format<"date-time">;

    /**
     * Optional filter: only favorites created before this timestamp are
     * returned.
     */
    created_before?: string & tags.Format<"date-time">;

    /** Pagination: page number (1-based). */
    page?: number & tags.Type<"int32">;

    /** Pagination: number of results per page. */
    limit?: number & tags.Type<"int32">;
  };

  /**
   * Favorite creation request body.
   *
   * Used to create a favorite entry for a user on a given entity/snapshot.
   * Implements uniqueness on user+entity+id. Used in engagement dashboard/UIs
   * and notification/alert enrollments.
   *
   * Adheres to the favorites table, requiring all atomic fields for proper
   * creation and audit/compliance traceability.
   */
  export type ICreate = {
    /**
     * Referenced snapshot ID for immutable notification/event state. From
     * favorites.entity_snapshot_id.
     */
    entity_snapshot_id: string & tags.Format<"uuid">;

    /** Entity type to be favorited. See favorites.entity_type. */
    entity_type: string;

    /** ID of the entity to favorite. From favorites.entity_id. */
    entity_id: string & tags.Format<"uuid">;
  };

  /**
   * Favorite update request.
   *
   * Used to update a favorite's snapshot reference (for notification) or
   * other mutable fields (future expansion). Changes are limited and only the
   * owner can update.
   *
   * Adheres to EngagementBoards.favorites and notification reference logic.
   */
  export type IUpdate = {
    /**
     * New snapshot ID to reference for this favorite, e.g., when the entity
     * has changed. From favorites.entity_snapshot_id.
     */
    entity_snapshot_id?: string & tags.Format<"uuid">;
  };
}

import { tags } from "typia";

/**
 * 추천 엔티티의 전체 레코드를 나타냅니다.
 *
 * Prisma recommendation 스키마의 모든 주요 컬럼을 반영합니다. 각 필드는 업무 목적으로 명확히 분리(3NF),
 * 설명·컴플라이언스용 주석·예시를 포함합니다. 추천 분석, 로그 검수, 감사, 개인화 대시보드 등 모든 조회/저장 흐름에서 기본이 되는
 * 타입입니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IRecommendation = {
  /**
   * 추천 레코드의 고유 식별자(UUID).
   *
   * Prisma: recommendation.id
   *
   * 시스템 내부 참조, 상세 조회/수정/감사 로그의 기준이 됩니다.
   */
  id: string & tags.Format<"uuid">;

  /**
   * AI 제공자 식별자(UUID).
   *
   * 추천을 산출한 AI Provider의 고유키. (Prisma: recommendation.ai_provider_id) AI/ML
   * 출처 식별 및 분석, 추천모듈 감사·성능평가에서 사용합니다.
   */
  ai_provider_id: string & tags.Format<"uuid">;

  /**
   * 추천 대상 사용자 식별자(UUID).
   *
   * 해당 추천을 적용하는 유저(멤버/고객/셀러 등)의 고유키. (Prisma: recommendation.user_id) 개별 사용자
   * 개인화·통계 목적.
   */
  user_id: string & tags.Format<"uuid">;

  /**
   * 추천 유형. 예: 'product', 'coupon', 'bundle'.
   *
   * 추천 시스템/비즈니스 도메인 컴플라이언스 구분 목적. (Prisma:
   * recommendation.recommendation_type) 정책별 추천종류 구분의 기준으로도 활용됩니다.
   */
  recommendation_type: string;

  /**
   * 타겟 엔티티 식별자(UUID).
   *
   * 추천 대상 객체(상품 등)의 고유키. (Prisma: recommendation.target_entity_id) 상품/쿠폰/묶음 등
   * 추천 목적별 엔티티 연결에 사용됩니다.
   */
  target_entity_id: string & tags.Format<"uuid">;

  /**
   * 메타데이터 JSON (선택적).
   *
   * 추천 결과 실행에 관한 상세정보, 설명가능성, 점수 등 AI/ML 부가 정보 JSON 직렬화로 저장. (Prisma:
   * recommendation.metadata) 예시: '{"score": 0.987, "explanation": "유사 고객 선호
   * 기반"}'.
   */
  metadata?: string;

  /**
   * 추천 산출 일시(UTC ISO8601)
   *
   * 해당 추천이 생성(추천 실행)된 일시. (Prisma: recommendation.generated_at)
   * 컴플라이언스·로그·대시보드 분석 등에서 시계열 필터/정렬 기준입니다.
   */
  generated_at: string & tags.Format<"date-time">;
};
export namespace IRecommendation {
  /**
   * 추천 엔티티(Recommendation) 목록 또는 검색 API의_REQUEST 페이로드 타입입니다.
   *
   * 추천 기록을 복수 조건(추천타입, 유저, AI 제공자 등)으로 필터링하거나, 페이지네이션 조회에 활용됩니다. 필드명, 타입, 필드별
   * 설명은 Prisma: recommendation 테이블 컬럼과 매핑됩니다. 각 필드는 모두 선택적(search 요청에 따라 조합
   * 사용)이며, 검색/통계/컴플라이언스 대시보드/추천분석 용도로 주로 사용됩니다.
   */
  export type IRequest = {
    /**
     * 추천 타입 필터입니다. 예시: 'product', 'coupon', 'bundle' 등. (Prisma:
     * recommendation.recommendation_type)
     *
     * 특정 추천 유형을 검색할 때 사용됩니다.
     */
    recommendation_type?: string;

    /**
     * 추천 대상 사용자 필터(UUID).
     *
     * 해당 유저의 추천 레코드만 탐색할 때 지정합니다. (Prisma: recommendation.user_id)
     *
     * 선택적 필드입니다.
     */
    user_id?: string & tags.Format<"uuid">;

    /**
     * AI 제공자 필터(UUID).
     *
     * 추천의 발생 원인(AI Provider)을 기준으로 검색할 때 사용합니다. (Prisma:
     * recommendation.ai_provider_id)
     *
     * 선택적 필드입니다.
     */
    ai_provider_id?: string & tags.Format<"uuid">;

    /**
     * 타겟 엔티티 UUID 필터.
     *
     * 추천 대상 엔티티 (제품 등)를 기준으로 결과 제한에 사용됩니다. (Prisma:
     * recommendation.target_entity_id)
     *
     * 선택적 필드.
     */
    target_entity_id?: string & tags.Format<"uuid">;

    /**
     * 페이지 번호(1-base). 페이지네이션에 사용됩니다.
     *
     * 예시: 1, 2, 3...
     */
    page?: number & tags.Type<"int32">;

    /**
     * 페이지 당 결과 수. 기본값 및 허용 범위는 시스템 정책에 따라 다름.
     *
     * 예시: 20, 50, 100
     */
    limit?: number & tags.Type<"int32">;
  };

  /**
   * 신규 추천 엔터티(레코드) 생성시 사용하는 요청 타입입니다.
   *
   * 추천이 산출된 AI Provider, 대상 유저, 추천 유형, 타겟 엔터티, 생성시각(UTC), 그리고 AI/ML
   * 메타데이터(선택적)를 입력합니다. 모든 필드는 정규화(3NF) 원칙을 따르며, 인서트 전 유효성 검증과 감사로그(컴플라이언스
   * 관점)가 필수입니다.
   *
   * 리퀘스트 본문으로 사용되며, 성공시 IRecommendation(전체 엔티티)가 반환됩니다.
   */
  export type ICreate = {
    /**
     * 추천을 생성한 AI Provider의 UUID.
     *
     * 반드시 ai_provider 테이블에 존재해야 하며, 추천산출 provenance(출처), 감사 추적 및 확장성 작업에
     * 필수입니다. (Prisma: recommendation.ai_provider_id)
     */
    ai_provider_id: string & tags.Format<"uuid">;

    /**
     * 추천 대상 사용자 UUID.
     *
     * 필수이며, 대상 유저 존재성을 사전 검증해야 합니다. 개인화·분석 및 로깅, 인게이지먼트 통계에 활용됩니다.
     */
    user_id: string & tags.Format<"uuid">;

    /**
     * 추천 유형(예: 'product', 'coupon', 'bundle').
     *
     * 서비스 내 도메인 정책별 구분 기준, 컴플라이언스 구획 필수. (Prisma:
     * recommendation.recommendation_type)
     */
    recommendation_type: string;

    /**
     * 추천 대상 엔터티 UUID.
     *
     * 추천이 연결된 상품, 쿠폰, 묶음 상품 등 다목적 엔터티 식별자. (Prisma:
     * recommendation.target_entity_id) 추출/추천 성공시 반드시 저장되어야 하는 필드입니다.
     */
    target_entity_id: string & tags.Format<"uuid">;

    /**
     * 추천 생성 컨텍스트, 점수, 설명가능성 등 AI/ML 메타데이터(JSON 직렬화).
     *
     * 예시: '{"score": 0.99, "explanation": "연관구매 best"}'.
     */
    metadata?: string;

    /**
     * 추천 생성 시각(UTC ISO8601 형식).
     *
     * 프론트·로그/컴플라이언스 트리거로 활용. (Prisma: recommendation.generated_at)
     */
    generated_at: string & tags.Format<"date-time">;
  };

  /**
   * 추천 레코드(IRecommendation)의 수정 요청 타입입니다.
   *
   * 일반적으로 메타데이터만(설명·점수 등) 변경 가능합니다. 타 필드 수정은 원칙적으로 불가하거나 감사·컴플라이언스 승인 필요.
   *
   * 고도화된 추천 분석·설명가능성·AI 운영 대시보드 등에서 과거 추천의 추가 설명, 재분석, 메타 리커멘트 갱신 등에 활용합니다.
   */
  export type IUpdate = {
    /**
     * 추천의 상세속성, 설명가능성, 점수 등 AI/ML 메타데이터를 JSON 직렬화로 관리.
     *
     * 업데이트 시, 추천 레코드의 설명이나 추가 정보를 보존/수정하는 데 사용합니다. (Prisma:
     * recommendation.metadata) 예: '{"score": 0.997, "reason": "재분석"}'.
     */
    metadata?: string;
  };
}

import { tags } from "typia";

/**
 * 판매자의 채널 권한/할당 이력을 명시하는 atomic 레코드.
 *
 * Seller_channel_assignments 테이블의 normalized row로, seller 및 channel 간 M:N 할당관계를
 * 단일 링크 row 형태로 표현함.
 *
 * - Seller_id, channel_id, assigned_at, revoked_at 필드 포함
 * - 판매자가 여러 채널에 할당/회수 될 수 있는 구조
 * - 할당이력 기준으로 감사 및 온보딩/채널관계관리 가능
 *
 * RBAC, 관리대시보드, 감사대상에서 할당여부, 활동기간, 회수여부 등을 이력 관리합니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type ISellerChannelAssignment = {
  /** 판매자-채널 할당 레코드 고유 ID */
  id: string & tags.Format<"uuid">;

  /** 할당된 seller의 id */
  seller_id: string & tags.Format<"uuid">;

  /** 채널의 id */
  channel_id: string & tags.Format<"uuid">;

  /** 채널 할당일시(이력시작점) */
  assigned_at: string & tags.Format<"date-time">;

  /** (optional) 채널권한이 회수/삭제된 시각(null이면 유효함) */
  revoked_at?: (string & tags.Format<"date-time">) | null;
};
export namespace ISellerChannelAssignment {
  /**
   * 판매자의 채널 권한/할당(할당·조회·검색) 리스트 요청 DTO.
   *
   * Seller_channel_assignments를 대상으로, 판매자-채널 매핑 검색 및 페이지네이션 목적으로 사용.
   *
   * 예시: seller_id, channel_id, 기간 필터, 페이지네이션, 정렬/검색을 지원.
   */
  export type IRequest = {
    /** 특정 판매자(seller_id) 기반 검색 */
    seller_id?: string & tags.Format<"uuid">;

    /** 특정 채널 기준 검색 */
    channel_id?: string & tags.Format<"uuid">;

    /** 시작일: 시간 범위/필터 적용 */
    from_date?: string & tags.Format<"date-time">;

    /** 마감일: 범위/필터 */
    to_date?: string & tags.Format<"date-time">;

    /** 페이지 번호(1이상, optional) */
    page?: number & tags.Type<"int32">;

    /** 페이지당 개수, optional */
    limit?: number & tags.Type<"int32">;
  };

  /**
   * 판매자-채널 할당 신규 생성 요청 타입.
   *
   * 판매자를 특정 채널에 할당하기 위한 정보만 포함된 순수 atomic 객체입니다. Prisma
   * seller_channel_assignments 테이블의 구조와 일치합니다.
   *
   * - Seller_id: 연결할 판매자 UUID
   * - Channel_id: 연결할 채널(UUID)
   * - Assigned_at: 할당 시점 타임스탬프
   */
  export type ICreate = {
    /**
     * 고유 판매자 식별자. sellers 테이블의 PK와 연결됨.
     *
     * 채널에 할당될 판매자를 지정합니다.
     */
    seller_id: string & tags.Format<"uuid">;

    /**
     * 채널 고유 식별자. channels 테이블의 PK와 연결됩니다.
     *
     * 이 할당이 연결되는 대상 채널을 지정합니다.
     */
    channel_id: string & tags.Format<"uuid">;

    /** 할당 시각(ISO 8601 timestamp). DB에 생성 시 기록되며, 채널 할당이 생성된 시점을 명확히 기록합니다. */
    assigned_at: string & tags.Format<"date-time">;
  };

  /**
   * 판매자-채널 할당정보(정정/해지) 입력 타입.
   *
   * 주로 revoked_at 값만 갱신할 수 있도록 설계되어 있습니다. sellers_channel_assignments 테이블과
   * 일치.
   *
   * - Revoked_at: 철회/해지 시점(타임스탬프)
   */
  export type IUpdate = {
    /**
     * 채널 할당이 취소되거나 철회되는 시점 타임스탬프(ISO 8601).
     *
     * 채널에서 할당을 해지할 때 쓴다. null인 경우 미해제 상태임을 의미.
     */
    revoked_at?: string & tags.Format<"date-time">;
  };
}

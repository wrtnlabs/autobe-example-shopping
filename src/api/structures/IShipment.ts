import { tags } from "typia";

/**
 * 배송(shipment) 엔티티 1건. shipments 테이블의 모든 중요 필드 포함.
 *
 * PK, 주문 참조, 담당자, 운송정보, 상태 이벤트, 타임스탬프 일체 수록.
 *
 * 배송이력, CS, 법적 보관 요구사항 모두 충족.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IShipment = {
  /** 배송 고유 식별자. shipments 테이블 PK. */
  id: string & tags.Format<"uuid">;

  /** 배송이 속한 주문ID. orders.id 참조. */
  order_id: string & tags.Format<"uuid">;

  /** 배송 담당자(사용자, 판매자, 택배사 담당 등). users.id FK. */
  actor_id: string & tags.Format<"uuid">;

  /** 운송장번호/배송사 트래킹코드. 필수 아님(직접 전달, 픽업 등에서 null 허용). */
  tracking_number?: string;

  /** 택배사/운송업체명. 예: CJ, 로젠, 우체국택배, 직접, 방문수령 등. */
  carrier: string;

  /** 배송 상태(준비, 배송중, 배송완료, 반송 등). 업무상 워크플로우 전환 상태. */
  status: string;

  /** 상품 출고(집화) 실제 일시. */
  shipped_at?: string & tags.Format<"date-time">;

  /** 실제 배송(수령확인) 일시. 주문 상품 도착, 포스트 배송 등. */
  delivered_at?: string & tags.Format<"date-time">;

  /** 배송 엔티티 생성 일시. */
  created_at: string & tags.Format<"date-time">;

  /** 마지막 정보 갱신 시각. 감사 추적, 동기화 필요 시. */
  updated_at: string & tags.Format<"date-time">;
};
export namespace IShipment {
  /**
   * 배송(shipment) 엔티티 리스트를 조회할 때 사용하는 검색/필터/페이징 요청 파라미터 집합.
   *
   * Prisma shipments 테이블 구조 및 업무 필드에 일치.
   */
  export type IRequest = {
    /** 조회할 페이지 번호입니다. */
    page?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;

    /** 페이지당 최대 레코드 수(기본 100). */
    limit?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "int32";
      }>;

    /** 해당 배송이 속한 주문(order_id) 필터. */
    order_id?: string & tags.Format<"uuid">;

    /** 배송 담당자/처리자(users.id) 기준 검색. */
    actor_id?: string & tags.Format<"uuid">;

    /** 배송 상태(준비, 배송중, 완료 등)로 검색. */
    status?: string;

    /** 배송 업체/운송사명(예: CJ, 로젠택배 등)으로 필터. */
    carrier?: string;

    /** 배송 생성 시점 기간(시작일). */
    created_at_start?: string & tags.Format<"date-time">;

    /** 배송 생성 시점 기간(종료일). */
    created_at_end?: string & tags.Format<"date-time">;
  };

  /**
   * 신규 배송 레코드 등록 요청 페이로드.
   *
   * 배송 생성에 필요한 필수값 요구. 비즈니스 정책에 따라 actor, carrier, 상태 전부 명확하게 지정 필요.
   */
  export type ICreate = {
    /**
     * 배송 대상 주문ID. 필수값. orders.id FK.
     *
     * 배송은 반드시 특정 주문에 귀속. 실물배송 상품일 때만 생성됨.
     */
    order_id: string & tags.Format<"uuid">;

    /** 배송 담당자 ID. 실제 처리자(사용자/판매자/운송사 담당 등). users.id FK. */
    actor_id: string & tags.Format<"uuid">;

    /** 운송업체명/택배사명. 필수. */
    carrier: string;

    /**
     * 신규 배송 상태(예: 준비, 배송중 등) 지정.
     *
     * 생성 후 상태변경/이벤트 진행됨.
     */
    status: string;
  };

  /**
   * 배송(shipment) 레코드 업데이트 시 사용하는 페이로드.
   *
   * 운송장, 운송업체명, 상태, 출고/수령 일시 등만 수정 가능 (PK, 주문 참조 등은 불변).
   */
  export type IUpdate = {
    /** 운송장(트래킹코드) 신규 입력/수정. */
    tracking_number?: string;

    /** 택배사/운송업체명 수정. */
    carrier?: string;

    /** 현재 배송 상태 값 변경(예: 배송중->완료 등). 상태별 정책에 따라 일부 상태만 변경 가능. */
    status?: string;

    /** 실제 출고(집화) 일시 보정용. */
    shipped_at?: string & tags.Format<"date-time">;

    /** 실제 배송/수령 시점 보정용. */
    delivered_at?: string & tags.Format<"date-time">;
  };
}

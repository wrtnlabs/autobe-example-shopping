import { tags } from "typia";

/**
 * 유저(account) 베이스 엔터티 스키마.
 *
 * Prisma 'users' 테이블의 논리 스키마와 모든 컬럼 설명, RBAC/감사 목적 표준 설명 포함.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IUser = {
  /** 유저 고유식별자(UUID). Prisma 'users'의 id 컬럼. */
  id: string & tags.Format<"uuid">;

  /** 로그인용 이메일(유일값, 필수, Prisma 'users' email). */
  email: string & tags.Format<"email">;

  /** 로그인 핸들/별명(유일값, 필수, Prisma 'users' username). */
  username: string;

  /** 비밀번호 해시값(SSO/Social 미사용시 필수, 일반적으로 bcrypt 해시). */
  password_hash?: string;

  /** 계정 생성시각(감사필수, Prisma 'users' created_at). */
  created_at: string & tags.Format<"date-time">;

  /** 계정 정보의 마지막 수정일시. */
  updated_at: string & tags.Format<"date-time">;

  /** 소프트 삭제 시각. null이면 활성 상태. */
  deleted_at?: (string & tags.Format<"date-time">) | null;
};
export namespace IUser {
  /**
   * 유저(account) 목록 검색/필터/페이징 요청용 DTO.
   *
   * Prisma 'users' 테이블에서 전체, 조건, 기간, 상태별 레코드 검색에 사용된다.
   */
  export type IRequest = {
    /** 검색하고자 하는 이메일(부분일치 허용, 선택). */
    email?: string & tags.Format<"email">;

    /** 사용자 이름(로그인 핸들, 부분검색 허용, 선택). */
    username?: string;

    /** 생성일 시작 필터(ISO 8601, 선택). */
    created_from?: string & tags.Format<"date-time">;

    /** 생성일 종료 필터(ISO 8601, 선택). */
    created_to?: string & tags.Format<"date-time">;

    /** 유저 상태(활성/삭제 여부, 'active', 'deleted' 등). */
    status?: string;

    /** 정렬 순서(ex: 'created_at desc', 'email asc'). 선택. */
    order?: string;

    /** 페이지 번호(1부터 시작, 미지정 시 1). */
    page?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "uint32";
      }>;

    /** 한 페이지당 유저 반환 개수. 미지정 시 100. */
    limit?: number &
      tags.Type<"int32"> &
      tags.Default<100> &
      tags.JsonSchemaPlugin<{
        format: "uint32";
      }>;
  };

  /**
   * 유저 신규 생성/온보딩 요청용 DTO.
   *
   * Prisma 'users' 생성시 필수 입력 필드. 패스워드 필드는 SSO flow에서는 null 허용.
   */
  export type ICreate = {
    /**
     * 사용자 이메일(필수). 이미 사용중이면 에러 반환.
     *
     * Prisma users.email.
     */
    email: string & tags.Format<"email">;

    /** 로그인 핸들/별명(필수). Prisma users.username. */
    username: string;

    /** 암호화된 패스워드(bcrypt 등, 필수). SSO 계정일 경우 null 가능. */
    password_hash?: string;
  };

  /**
   * 유저(account) 레코드의 업데이트용 DTO.
   *
   * Prisma 'users' 테이블의 컬럼별 수정(이메일, 핸들, 비밀번호, 소프트삭제).
   */
  export type IUpdate = {
    /** 수정할 이메일(선택). */
    email?: string & tags.Format<"email">;

    /** 수정할 로그인 핸들/별명(선택). */
    username?: string;

    /** 비밀번호 재설정(선택). */
    password_hash?: string;

    /** 소프트 삭제 요청시 timestamp를 지정. */
    deleted_at?: (string & tags.Format<"date-time">) | null;
  };
}

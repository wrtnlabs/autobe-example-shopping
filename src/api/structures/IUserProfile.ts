import { tags } from "typia";

/**
 * 사용자 확장 프로필 개체입니다.
 *
 * User_profiles 프리즈마 테이블의 모든 필드를 포함, 각 컬럼은 다음과 같습니다.
 *
 * - Id: PK
 * - User_id: 소유자(User)
 * - Display_name: UI 닉네임
 * - Legal_name: 법적 이름(암호화)
 * - Birth_date: 생년월일(암호화)
 * - Gender: 성별
 * - Locale: i18n 언어
 * - Timezone: 타임존
 * - Marketing_opt_in: 마케팅 동의 여부
 * - Created_at: 생성일
 * - Updated_at: 수정일
 * - Deleted_at: 소프트 삭제일 등
 *
 * 각 필드는 user_profiles 스키마의 주석에 근거해 상세히 기술되었습니다. 프로필은 표준 회원 인증(users)과 분리된 실명,
 * 마케팅 동의, 다국어, 컴플라이언스 정보를 하나로 관리합니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IUserProfile = {
  /**
   * User_profiles 테이블의 PK.
   *
   * 이 프로필 레코드의 고유 식별자로, 시스템 내 모든 사용자 프로필을 구분합니다.
   */
  id: string & tags.Format<"uuid">;

  /**
   * 소유자 users.id, 사용자 계정(Users)과 1:1로 매핑되는 외래키입니다.
   *
   * 이 필드는 본 프로필이 어떤 회원의 정보에 해당하는지 참조합니다.
   */
  user_id: string & tags.Format<"uuid">;

  /**
   * 사용자 UI에 표시되는 이름.
   *
   * 실제 이름이 아닌 서비스 내 닉네임이나 프로필명 등 비공식 공개 정보로 활용할 수 있습니다.
   */
  display_name: string;

  /**
   * 법적 이름(필드 단위 암호화).
   *
   * 법적 인증이 요구되는 국가 규제나 사용자 검증을 위해 별도의 암호화ㆍ마스킹이 적용됩니다. 미입력 허용.
   */
  legal_name?: string | null;

  /**
   * 생년월일(필드 단위 암호화).
   *
   * 가입 심사, 규제 준수, 세그먼트 설정, KYC 등에서 활용. ISO 8601 포맷 사용(예:
   * 1986-07-16T00:00:00Z). 미입력 가능.
   */
  birth_date?: (string & tags.Format<"date-time">) | null;

  /**
   * 성별 정보(프리텍스트/ENUM 혼용).
   *
   * 개인화 및 통계 분석 시 참고. 미입력 허용.
   */
  gender?: string | null;

  /**
   * 사용자 선호 로케일(i18n 세팅).
   *
   * 서비스 UI, 알림, 다국어 정책 적용을 위한 필드. 예: 'ko-KR', 'en-US'. 미입력 허용.
   */
  locale?: string | null;

  /**
   * 사용자 선호 표준 시간대(IANA Timezone).
   *
   * 개인화 처리, 알림 시간 조정, 법적 데이터 보관 위치 준수에 활용됩니다.
   */
  timezone?: string | null;

  /**
   * 마케팅 정보 수신 동의 플래그.
   *
   * GDPR, CCPA 등 데이터 보호법에 따라 명시적 동의(via UI 등) 내역만 true가 되며, 동의 철회 즉시 false
   * 처리.
   */
  marketing_opt_in: boolean;

  /**
   * 프로필 레코드 생성 시각.
   *
   * 등록 순, 데이터 감사 기록 등 다양한 용도로 사용.
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * 마지막 프로필 정보 갱신 시각.
   *
   * 개정판 기록, GDPR/CCPA 요청 응답 대비, 데이터 감사에 사용.
   */
  updated_at: string & tags.Format<"date-time">;

  /**
   * 소프트 삭제 시각(감사/법적 삭제 추적용).
   *
   * 삭제 처리가 된 경우 값이 들어가며, 실제 데이터 물리 삭제는 아님.
   */
  deleted_at?: (string & tags.Format<"date-time">) | null;
};
export namespace IUserProfile {
  /**
   * 유저 프로필(user_profiles) Filter/Search 용 DTO. 기본 제공 필드 및 인구통계, 마케팅, i18n 등
   * 검색 조건 지원.
   */
  export type IRequest = {
    /** 특정 유저의 프로필만 조회할 경우 지정. */
    user_id?: string & tags.Format<"uuid">;

    /** 프로필표시명(부분일치 검색 등, 선택). */
    display_name?: string;

    /** 생년월일 검색(이상, ISO 8601, 선택). */
    birth_date_from?: string & tags.Format<"date-time">;

    /** 생년월일 검색(이하, ISO 8601, 선택). */
    birth_date_to?: string & tags.Format<"date-time">;

    /** 사용자 지정 로케일(i18n, 미지정시 전체 검색). */
    locale?: string;

    /** 마케팅 동의 여부로 필터(선택). */
    marketing_opt_in?: boolean;

    /** 정렬 기준(예: 'created_at desc'). */
    order?: string;

    /** 페이지 번호(1부터 시작, 기본 1). */
    page?: number &
      tags.Type<"int32"> &
      tags.JsonSchemaPlugin<{
        format: "uint32";
      }>;

    /** 한 페이지당 레코드 수, 미지정시 100. */
    limit?: number &
      tags.Type<"int32"> &
      tags.Default<100> &
      tags.JsonSchemaPlugin<{
        format: "uint32";
      }>;
  };

  /**
   * 신규 사용자 프로필(IUserProfile) 생성 요청 타입입니다.
   *
   * User_profiles 테이블의 신규 레코드 추가를 위한 모든 필드와 그 제약 조건 및 사용 목적이 상세하게 기술되어 있습니다.
   * 필수: user_id, display_name, marketing_opt_in. 선택: 나머지 개인정보 필드.
   */
  export type ICreate = {
    /**
     * 본 프로필이 소속될 사용자(users.id)입니다.
     *
     * 회원 가입 후, 개별 프로필 생성 시 반드시 지정해야 합니다.
     */
    user_id: string & tags.Format<"uuid">;

    /**
     * UI/UX에 표시할 고객의 닉네임, 필수.
     *
     * 비실명(공개) 정보로 활용됩니다.
     */
    display_name: string;

    /**
     * 법적 이름(암호화 저장), 미입력 허용.
     *
     * KYC, AML 등 신원 인증이 필요할 때 별도 활용하는 필드입니다.
     */
    legal_name?: string | null;

    /**
     * 생년월일, ISO 8601 (예: 1986-07-16T00:00:00+09:00).
     *
     * 필드 단위 암호화, 가입 심사/규율 준수 목적.
     */
    birth_date?: (string & tags.Format<"date-time">) | null;

    /** 성별 정보, ENUM 혹은 프리 텍스트. 미입력 허용. */
    gender?: string | null;

    /**
     * 선호 언어/로케일 코드(예: 'ko-KR', 'en-US').
     *
     * I18n 및 UI 다국어 표시.
     */
    locale?: string | null;

    /** 선호 타임존(IANA 문자열). 시스템 시간/알림/규제 적용에 사용. */
    timezone?: string | null;

    /** 마케팅 수신 동의, 기본값 false. GDPR/CCPA 대응 목적. */
    marketing_opt_in: boolean;
  };

  /**
   * 사용자 프로필 레코드의 부분 업데이트/수정 요청 타입입니다.
   *
   * IUserProfile 전체 중 수정 가능한 필드만 포함합니다.
   *
   * User_profiles의 부분 수정 시 요청 바디로 사용(모든 값 선택적).
   */
  export type IUpdate = {
    /** 프로필명(닉네임) 변경 요청. */
    display_name?: string;

    /** 법적 이름(암호화), NULL 시 미입력. */
    legal_name?: string | null;

    /** 생년월일, ISO 8601 포맷(예: 1986-07-16T00:00:00+09:00). */
    birth_date?: (string & tags.Format<"date-time">) | null;

    /** 성별 정보, ENUM/프리텍스트. */
    gender?: string | null;

    /** 로케일(언어) 코드. */
    locale?: string | null;

    /** 타임존(IANA 코드). */
    timezone?: string | null;

    /** 마케팅 동의 플래그. */
    marketing_opt_in?: boolean;
  };
}
